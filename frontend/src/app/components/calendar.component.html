<div class="card">
  <h2>ğŸ“… Event Calendar</h2>

  <div class="calendar-header">
    <button (click)="previousMonth()">â† Previous</button>
    <h3>{{ getCurrentMonthYear() }}</h3>
    <button (click)="nextMonth()">Next â†’</button>
  </div>

  <div style="margin-bottom: 16px;">
    <label for="categoryFilter"><strong>Filter by Category:</strong></label>
    <select id="categoryFilter" [(ngModel)]="selectedCategory" (change)="onCategoryChange()" style="margin-left: 8px; padding: 6px 12px; border-radius: 6px;">
      <option value="">All Categories</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>
  </div>

  <div class="calendar-grid">
    <div *ngFor="let day of weekDays" class="day-header">{{ day }}</div>
    <div *ngFor="let date of daysInMonth"
         class="day-cell"
         [class.other-month]="!isCurrentMonth(date)"
         [class.today]="isToday(date)"
         [class.selected]="isSelected(date)"
         (click)="selectDate(date)">
      {{ date?.getDate() }}
    </div>
  </div>

  <div *ngIf="loading" class="spinner"></div>

  <div *ngIf="!loading && filteredSlots.length > 0" class="events-list">
    <h3>Available Events</h3>
        <div *ngFor="let slot of filteredSlots"
          class="event-item"
          [class.selected]="selectedSlot?.id === slot.id"
          (click)="selectSlot(slot)">
      <div class="event-item-title">{{ slot.title }}</div>
      <div class="event-item-time">
        {{ slot.start_time | date: 'short' }} - {{ slot.end_time | date: 'short' }}
      </div>
      <div class="event-item-slots"></div>
    </div>
  </div>

  <div *ngIf="!loading && filteredSlots.length === 0" class="empty-state">
    <div class="empty-state-icon">ğŸ“­</div>
    <p>No events scheduled for this date</p>
  </div>
</div>
